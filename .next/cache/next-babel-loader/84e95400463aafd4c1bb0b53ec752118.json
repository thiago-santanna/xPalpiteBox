{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('1oDFsbvCF2fkkxmjMvC5K2i6Uld6YhA1HI9isZ8ZZLL4');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells('A2:B2');\n    const mostraPromocao = sheet.getCell(1, 0);\n    const textoCell = sheet.getCell(1, 1);\n    res.end(JSON.stringify({\n      showCoupon: mostraPromocao.value === 'VERDADEIRO',\n      message: textoCell.value\n    }));\n  } catch (error) {\n    res.end(JSON.stringify({\n      showCoupon: false,\n      message: ''\n    }));\n  }\n});","map":{"version":3,"sources":["/home/thiago/Dev/DevPleno/semana-FSM/palpite-box/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","loadCells","mostraPromocao","getCell","textoCell","end","JSON","stringify","showCoupon","value","message","error"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAGA,gBAAe,OAAMG,GAAN,EAAWC,GAAX,KAAmB;AAC9B,MAAI;AACA,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AAEA,UAAMC,cAAc,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAvB;AACA,UAAMC,SAAS,GAAGL,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAlB;AAEAP,IAAAA,GAAG,CAACS,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,UAAU,EAAEN,cAAc,CAACO,KAAf,KAAyB,YADlB;AAEnBC,MAAAA,OAAO,EAAEN,SAAS,CAACK;AAFA,KAAf,CAAR;AAKH,GAfD,CAeE,OAAOE,KAAP,EAAc;AACZf,IAAAA,GAAG,CAACS,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,UAAU,EAAE,KADO;AAEnBE,MAAAA,OAAO,EAAE;AAFU,KAAf,CAAR;AAIH;AACJ,CAtBD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet'\nimport credentials from '../../credentials.json'\n\nconst doc = new GoogleSpreadsheet('1oDFsbvCF2fkkxmjMvC5K2i6Uld6YhA1HI9isZ8ZZLL4')\n\n\nexport default async(req, res) => {\n    try {\n        await doc.useServiceAccountAuth(credentials)\n        await doc.loadInfo()\n        \n        const sheet = doc.sheetsByIndex[2]\n        await sheet.loadCells('A2:B2')\n    \n        const mostraPromocao = sheet.getCell(1, 0)    \n        const textoCell = sheet.getCell(1, 1)\n\n        res.end(JSON.stringify({\n            showCoupon: mostraPromocao.value === 'VERDADEIRO',\n            message: textoCell.value\n        }))\n\n    } catch (error) {\n        res.end(JSON.stringify({\n            showCoupon: false,\n            message: ''\n        }))\n    }\n}"]},"metadata":{},"sourceType":"module"}